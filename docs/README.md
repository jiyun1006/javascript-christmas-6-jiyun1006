## 크리스마스 프로모션

> 🔎 디렉토리 설명

| 디렉토리                 |                                설명                                 |
| :----------------------- | :-----------------------------------------------------------------: |
| constants                |                             상수화 폴더                             |
| constants/christmasEvent |                  크리스마스 이벤트에 해당하는 상수                  |
| constants/error          |                           오류 구문 상수                            |
| constants/magicNumber    |                              숫자 상수                              |
| constants/uiConstants    |                       UI로직에 사용되는 상수                        |
|                          |                                                                     |
| domain                   |                    해당 미션의 주요 클래스 모듈                     |
| domain/EventCheck        |             혜택 체크하는 클래스(**EventCheck 클래스**)             |
| domain/EventDiscount     | 혜택 체크를 기반으로 혜택 계산하는 클래스(**EventDiscount 클래스**) |
| domain/Planner           |   UI를 위한 비즈니스 로직을 처리하는 클래스 (**Planner 클래스**)    |
| domain/PlannerPrint      |      이벤트 플래너를 출력하는 클래스 (**PlannerPrint 클래스**)      |
|                          |                                                                     |
| utils                    |                        자주 쓰이는 함수 폴더                        |
| utils/createMethod       |        메뉴를 Map 객체로 바꾸고, 총 금액 계산하는 함수 모음         |
| utils/retryInput         |                 오류 발생 후 재입력 받게 하는 함수                  |
| utils/validateExcute     |                  테스트 함수에서 자주 쓰이는 함수                   |
|                          |                                                                     |
| view                     |                       UI로직을 담당하는 함수                        |
| view/InputView           |                        입력을 담당하는 함수                         |
| view/OutputView          |                        출력을 담당하는 함수                         |
|                          |                                                                     |
| App.js                   |                           메인 실행 파일                            |
| Validate                 |              유효성 검사 클래스 (**Validate 클래스**)               |

<br><br>

---

> 미션 내용 이해하기.

- 식당에서 크리스마스를 12/25를 위한 프로모션 할인이벤트 진행
- 할인을 중복해서 사용가능
- 할인 전 금액에 따라 증정품도 있음.
- 할인 금액에 따른 뱃지 증정(다음 이벤트에 사용가능 예정)
- `12월 이벤트 플래너` 를 이용해서 고객들에게 미리 결제 금액, 증정품 등등을 알려주는 서비스 개발.

<br>

> 핵심 기능 ✨

- [x] 날짜(요일)에 따라 다른 할인 혜택을 파악하고,  
       주문 내용을 토대로, 총 금액, 총 혜택 금액, 증정품 여부를 판단하는 기능 (혜택금액 파악까지)

  - [x] 날짜와 메뉴,`EventCheck` 클래스를 이용하여 어떤 혜택을 이용할 수 있는지 확인한다.

> 기능 내용

- 고객들이 식당에 방문할 날짜와 메뉴를 미리 선택하면 이벤트 플래너가  
  `주문 메뉴`,
  `할인 전 총주문 금액`, `증정 메뉴`, `혜택 내역`, `총혜택 금액`, `할인 후 예상 결제 금액`, `12월 이벤트 배지 내용` 표시

- 식당 예상 방문 날짜 입력받기.(숫자만 입력)

  - 1~31 의 수만 입력받기
  - 잘못된 입력이면 `"[ERROR]"` 로 시작하는 구문 출력하며, 재입력 받기.

- [x] 주문할 메뉴와 개수 입력받기.

  - 메뉴판에 있는 메뉴만 입력받기 (예시와 정확히 똑같은 음식명으로, 중복메뉴 x).
  - 개수는 1개이상.
  - 위 두개의 조건을 하나라도 만족못하면 `"[ERROR]"` 로 시작하는 구문 출력 후, 재입력.

- [x] 주문 메뉴의 출력은 자유롭게 (입력받은 대로 출력하기.)

- 혜택 금액에 따른 뱃지 출력하기.

  - 혜택 금액 = 할인 금액 + 증정품 금액

- [x] 증정 메뉴는 표시

  - [x] 증정 이벤트에 해당하지 않는 경우, 증정 메뉴 `"없음"`으로 보여 주세요.

- [x] 혜택 내역은 `적용된 내역`만 표시.

  - 적용된 내역이 없으면 `"없음"`으로 표시.
  - 혜택 출력 순서는 자유롭게 (혜택 순서대로 해보기)

- [x] 이벤트 뱃지의 경우 해당안되면 `"없음"` 으로 표시.

<br>

> 유효성 검사

- [x] 날짜 입력받는 메서드

  - `'[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요.'`

    - [x] 숫자인지 아닌지, 조건이 맞지 않으면 재입력 받기
    - [x] 날짜는 1이상 31이하로 받기, 조건이 맞지 않으면 재입력 받기
    - [x] 공백인지 아닌지 (`'', ' '` 모두 검사), 조건이 맞지 않으면 재입력 받기

  - **검사 순서는 `공백인지 체크` -> `숫자인지 체크` -> `범위안의 숫자인지 체크` 순으로 한다.**

  <br>

- [x] 메뉴 입력받는 메서드

  - `'[ERROR] 음료만 주문할 수 없습니다. 다시 입력해 주세요.'`
    - [x] 음료만 주문 시, 재입력 받기
  - `'[ERROR] 메뉴는 한 번에 최대 20개까지만 가능합니다.'`
    - [x] 메뉴 개수 20개 초과할 시, 재입력 받기
  - `'[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요.'`

    - [x] 메뉴판에 없는 메뉴는 재입력 받기
    - [x] 메뉴 개수는 1이상의 숫자, 조건이 맞지않으면 재입력 받기
    - [x] `메뉴-숫자,` 해당 형식이 아니라면 재입력 받기
    - [x] 중복메뉴라면 재입력 받기

  - **검사 순서는 `올바른 주문형태인지 체크` -> `메뉴판에 있는 메뉴인지 체크` -> `주문에 중복되는 메뉴가 없는지 체크` ->  
    `메뉴 개수가 올바른 수인지 체크` -> `음료만 주문하지 않았는지 체크` -> `총 주문 개수가 20개 이하인지 체크` 순으로 한다.**

<br>

> 유의 사항 (미션 요구사항 + 3주차 공통 피드백)

- [x] 메서드 길이는 15자 이하로

- [x] 들여쓰기는 depth 2 이하로

- [x] 발생할 수 있는 다양한 예외 상황 생각하기.

- [x] 비즈니스 로직과 UI로직 분리하기.

  - UI로직을 담당하는 `PlannerPrint` 클래스 `InputView`, `OutputView` 함수들을 분리했다.

- [x] 객체의 상태접근 제한하기.

- [x] 필드의 수는 최소화하기.

- [x] 단위 테스트하기 어려운 메서드는 분리하기.

- [x] 무조건적인 `getter` 사용 금지

  - 최대한 클래스 내부의 메서드를 활용. (`EventCheck` 클래스에서 `getter` 한 번 사용)

  - 한 번도 사용안하려 했으나, 전혀 없게 하기에는
    클래스가 담당하는 로직을 하나로 통일하려다 보니, `getter` 사용을 하게 됨.

  ```
  상태를 가지는 객체를 추가했다면 객체가 제대로 된 역할을 하도록 구현해야 한다.
  객체가 로직을 구현하도록 해야한다.
  상태 데이터를 꺼내 로직을 처리하도록 구현하지 말고 객체에 메시지를 보내 일을 하도록 리팩토링한다.
  ```
